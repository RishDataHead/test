i want to use a config.ini file which data will be used in config.py file for using or updating databaseconfig file data when this script is called in other script.
the data must be taken for config.ini file 
the config.ini file could have multiple databases based on application area.

Perfect! You want to use a `config.ini` file with multiple database configurations. Here's the complete solution [1]:

***

## 1. Create `config.ini` File

**Create file: `enterprise_data_loader/config.ini`**

```ini
# Database configurations for different application areas

[DATABASE_DEV]
user = dev_user
password = dev_password
dsn = localhost:1521/DEVDB
min_pool_conn = 2
max_pool_conn = 5

[DATABASE_PROD]
user = prod_user
password = prod_password
dsn = prodserver.company.com:1521/PRODDB
min_pool_conn = 5
max_pool_conn = 20

[DATABASE_STAGING]
user = stg_user
password = stg_password
dsn = staging.company.com:1521/STGDB
min_pool_conn = 3
max_pool_conn = 10

[DATABASE_ANALYTICS]
user = analytics_user
password = analytics_password
dsn = analytics.company.com:1521/ANALYTICSDB
min_pool_conn = 5
max_pool_conn = 15

[DEFAULT]
# Default database to use if not specified
default_env = DATABASE_DEV
chunk_size = 10000
max_workers = 4
batch_errors = False
```

***

## 2. Update `config.py` to Read from INI File

**Replace `enterprise_data_loader/config.py` with:**

```python
"""
Configuration management - Loads from config.ini file
"""

import os
import configparser
from dataclasses import dataclass, field
from pathlib import Path
from typing import Optional


# Get path to config.ini file
CONFIG_FILE = Path(__file__).parent / 'config.ini'


@dataclass
class DatabaseConfig:
    """Database connection configuration"""
    user: str = ''
    password: str = ''
    dsn: str = 'localhost:1521/XEPDB1'
    min_pool_conn: int = 2
    max_pool_conn: int = 10


@dataclass
class FileConfig:
    """File processing configuration"""
    input_file: str = ''
    file_encoding: str = 'utf-8'
    csv_delimiter: str = ','
    xml_record_tag: str = 'record'
    xml_schema_file: Optional[str] = None
    validate_schema: bool = True


@dataclass
class LoaderConfig:
    """Data loader configuration"""
    staging_table: str = ''
    chunk_size: int = 10000
    max_workers: int = 4
    batch_errors: bool = False


@dataclass
class AppConfig:
    """Main application configuration"""
    database: DatabaseConfig = field(default_factory=DatabaseConfig)
    file: FileConfig = field(default_factory=FileConfig)
    loader: LoaderConfig = field(default_factory=LoaderConfig)
    
    @classmethod
    def from_ini(cls, db_env: str = None):
        """
        Load configuration from config.ini file
        
        Args:
            db_env: Database environment section name (e.g., 'DATABASE_PROD')
                   If None, uses default_env from [DEFAULT] section
        
        Returns:
            AppConfig instance with values from config.ini
        
        Example:
            >>> config = AppConfig.from_ini('DATABASE_PROD')
            >>> config = AppConfig.from_ini()  # Uses default
        """
        config = cls()
        
        if not CONFIG_FILE.exists():
            raise FileNotFoundError(
                f"config.ini not found at: {CONFIG_FILE}\n"
                "Create config.ini file in the enterprise_data_loader directory"
            )
        
        parser = configparser.ConfigParser()
        parser.read(CONFIG_FILE)
        
        # Get database environment to use
        if db_env is None:
            # Use default environment if not specified
            db_env = parser.get('DEFAULT', 'default_env', fallback='DATABASE_DEV')
        
        # Validate section exists
        if db_env not in parser.sections():
            available = [s for s in parser.sections() if s.startswith('DATABASE_')]
            raise ValueError(
                f"Database environment '{db_env}' not found in config.ini\n"
                f"Available environments: {', '.join(available)}"
            )
        
        # Load database configuration
        config.database.user = parser.get(db_env, 'user')
        config.database.password = parser.get(db_env, 'password')
        config.database.dsn = parser.get(db_env, 'dsn')
        config.database.min_pool_conn = parser.getint(db_env, 'min_pool_conn', fallback=2)
        config.database.max_pool_conn = parser.getint(db_env, 'max_pool_conn', fallback=10)
        
        # Load loader defaults from DEFAULT section
        if parser.has_section('DEFAULT'):
            config.loader.chunk_size = parser.getint('DEFAULT', 'chunk_size', fallback=10000)
            config.loader.max_workers = parser.getint('DEFAULT', 'max_workers', fallback=4)
            config.loader.batch_errors = parser.getboolean('DEFAULT', 'batch_errors', fallback=False)
        
        return config
    
    @classmethod
    def from_env(cls):
        """
        Load configuration from environment variables (legacy method)
        Falls back to config.ini default environment
        """
        user = os.getenv('ORACLE_USER')
        password = os.getenv('ORACLE_PASSWORD')
        dsn = os.getenv('ORACLE_DSN')
        
        if user and password:
            # Use environment variables
            config = cls()
            config.database.user = user
            config.database.password = password
            config.database.dsn = dsn or 'localhost:1521/XEPDB1'
            return config
        else:
            # Fall back to config.ini
            return cls.from_ini()
```

***

## 3. Update `ff_dbloader.py` to Use config.ini

**Update the `load_data()` function in `ff_dbloader.py`:**

```python
def load_data(filename: str, 
              table_name: str,
              db_env: str = None,  # NEW: Database environment from config.ini
              delimiter: str = ',',
              encoding: str = 'utf-8',
              xml_record_tag: str = 'record',
              xml_schema_file: str = None,
              chunk_size: int = None,  # None = use config.ini default
              batch_errors: bool = None,  # None = use config.ini default
              user: str = None,  # Override config.ini if provided
              password: str = None,  # Override config.ini if provided
              dsn: str = None) -> dict:  # Override config.ini if provided
    """
    Load CSV or XML file into Oracle table
    
    Args:
        filename: File path
        table_name: Oracle table name
        db_env: Database environment from config.ini (e.g., 'DATABASE_PROD')
                If None, uses default_env from config.ini
        delimiter: CSV delimiter (default: ',')
        encoding: File encoding (default: 'utf-8')
        xml_record_tag: XML record element (default: 'record')
        xml_schema_file: XSD file path (optional)
        chunk_size: Rows per batch (default: from config.ini)
        batch_errors: Skip bad rows (default: from config.ini)
        user: Oracle username (overrides config.ini if provided)
        password: Oracle password (overrides config.ini if provided)
        dsn: Oracle DSN (overrides config.ini if provided)
    
    Returns:
        dict: Execution summary
    
    Examples:
        # Use PROD database from config.ini
        >>> result = load_data('data.csv', 'STG_DATA', db_env='DATABASE_PROD')
        
        # Use default database from config.ini
        >>> result = load_data('data.csv', 'STG_DATA')
        
        # Override config.ini with custom credentials
        >>> result = load_data('data.csv', 'STG_DATA', 
        ...                    user='custom_user', password='custom_pass')
    """
    # Load configuration from config.ini
    config = AppConfig.from_ini(db_env)
    
    # Override database credentials if provided as arguments
    if user:
        config.database.user = user
    if password:
        config.database.password = password
    if dsn:
        config.database.dsn = dsn
    
    # Validate credentials
    if not config.database.user or not config.database.password:
        raise ValueError(
            "Database credentials not found.\n"
            "Either:\n"
            "  1. Configure in config.ini file\n"
            "  2. Pass user and password parameters\n"
            "  3. Set ORACLE_USER and ORACLE_PASSWORD environment variables"
        )
    
    # File settings
    config.file.input_file = filename
    config.file.file_encoding = encoding
    config.file.csv_delimiter = delimiter
    config.file.xml_record_tag = xml_record_tag
    config.file.xml_schema_file = xml_schema_file
    config.file.validate_schema = xml_schema_file is not None
    
    # Loader settings - use arguments if provided, otherwise use config.ini defaults
    config.loader.staging_table = table_name
    if chunk_size is not None:
        config.loader.chunk_size = chunk_size
    if batch_errors is not None:
        config.loader.batch_errors = batch_errors
    
    # Log configuration
    logger.info("="*70)
    logger.info("CONFIGURATION")
    logger.info("="*70)
    logger.info(f"Database Env:  {db_env or 'DEFAULT'}")
    logger.info(f"Database User: {config.database.user}")
    logger.info(f"Database DSN:  {config.database.dsn}")
    logger.info(f"File:          {filename}")
    logger.info(f"Table:         {table_name}")
    logger.info(f"Delimiter:     '{delimiter}'")
    logger.info(f"Chunk Size:    {config.loader.chunk_size:,}")
    logger.info("="*70)
    
    # Run loader
    app = DataLoaderApp(config)
    return app.run()
```

***

## Usage Examples

### Example 1: Use Production Database from config.ini

```python
from ff_dbloader import load_data

# Load using PROD database configuration
result = load_data(
    filename='employees.csv',
    table_name='STG_EMPLOYEES',
    db_env='DATABASE_PROD'  # Uses config from [DATABASE_PROD] section
)

print(f"Status: {result['status']}")
print(f"Rows: {result['row_count']}")
```

### Example 2: Use Default Database from config.ini

```python
# Uses default_env from [DEFAULT] section (DATABASE_DEV)
result = load_data(
    filename='data.csv',
    table_name='STG_DATA'
)
```

### Example 3: Use Staging Database

```python
result = load_data(
    filename='data.csv',
    table_name='STG_DATA',
    db_env='DATABASE_STAGING'
)
```

### Example 4: Use Analytics Database with Custom Settings

```python
result = load_data(
    filename='bigdata.csv',
    table_name='STG_ANALYTICS',
    db_env='DATABASE_ANALYTICS',
    delimiter='|',
    chunk_size=50000,  # Override config.ini default
    batch_errors=True
)
```

### Example 5: Override config.ini with Custom Credentials

```python
# Use custom credentials instead of config.ini
result = load_data(
    filename='data.csv',
    table_name='STG_DATA',
    user='custom_user',
    password='custom_password',
    dsn='custom.server.com:1521/CUSTOMDB'
)
```

### Example 6: Load Multiple Files to Different Environments

```python
# Load to DEV
dev_result = load_data('data.csv', 'STG_DATA', db_env='DATABASE_DEV')

# Load to STAGING for testing
stg_result = load_data('data.csv', 'STG_DATA', db_env='DATABASE_STAGING')

# Load to PROD after testing
if stg_result['success']:
    prod_result = load_data('data.csv', 'STG_DATA', db_env='DATABASE_PROD')
```

***

## Configuration Priority

The system uses this priority (highest to lowest):

1. **Function arguments** (user, password, dsn parameters)
2. **config.ini file** (specified db_env section)
3. **Environment variables** (ORACLE_USER, ORACLE_PASSWORD, ORACLE_DSN)

```python
# Priority example:
result = load_data(
    'data.csv', 
    'STG_DATA',
    db_env='DATABASE_PROD',  # Uses PROD from config.ini
    user='override_user'      # But overrides user
)
# Result: Uses PROD password/dsn, but with override_user
```

***

## Summary

**config.ini** structure:
- `[DATABASE_XXX]` sections for each environment
- `[DEFAULT]` section for default settings
- Easy to add new environments

**Benefits**:
- ✅ Centralized database configurations
- ✅ Multiple environments (DEV, STAGING, PROD, ANALYTICS)
- ✅ Easy to switch between databases
- ✅ Secure (passwords in one file, not in code)
- ✅ Override capability for flexibility

Now you can manage all your database connections in one `config.ini` file [1]!

Citations:
[1] selected_image_2464512276554246466.jpg https://ppl-ai-file-upload.s3.amazonaws.com/web/direct-files/attachments/images/92825140/2324763a-bf1f-4bda-a0d9-0046f2f729f2/selected_image_2464512276554246466.jpg
